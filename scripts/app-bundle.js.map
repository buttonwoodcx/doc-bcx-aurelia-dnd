{"version":3,"sources":["src/app.js","src/environment.js","src/examples/e1-simple-move-step-1/box.js","src/examples/e1-simple-move-step-1/container.js","src/examples/e1-simple-move-step-1/index.js","src/examples/e1-simple-move-step-2/box.js","src/examples/e1-simple-move-step-2/container.js","src/examples/e1-simple-move-step-2/index.js","src/examples/e1-simple-move/box.js","src/examples/e1-simple-move/container.js","src/examples/e1-simple-move/index.js","src/examples/e2-simple-move-hover/box.js","src/examples/e2-simple-move-hover/container.js","src/examples/e2-simple-move-hover/index.js","src/examples/e2-simple-move-hover/test.js","src/examples/e3-customise-preview/add-box.js","src/examples/e3-customise-preview/add-money.js","src/examples/e3-customise-preview/box.js","src/examples/e3-customise-preview/container.js","src/examples/e3-customise-preview/index.js","src/examples/e4-handler-move/box.js","src/examples/e4-handler-move/container.js","src/examples/e4-handler-move/index.js","src/examples/e5-draw/canvas-container.js","src/examples/e5-draw/index.js","src/examples/e6-reorder-list/index.js","src/examples/e6-reorder-list/item.js","src/examples/e6-reorder-list/list-container.js","src/examples/er1-reorderable-repeat/index.js","src/examples/er1-reorderable-repeat/list-container.js","src/examples/er1-reorderable-repeat/list-container2.js","src/examples/er2-reorderable-repeat-customise-style/index.js","src/examples/er2-reorderable-repeat-customise-style/list-container.js","src/examples/er2-reorderable-repeat-customise-style/list-container2.js","src/examples/er3-reorderable-repeat-with-handler/index.js","src/examples/er3-reorderable-repeat-with-handler/table-container.js","src/examples/er4-reorderable-repeat-customise-preview/index.js","src/examples/er4-reorderable-repeat-customise-preview/table-container.js","src/examples/er5-reorderable-repeat-direction/container.js","src/examples/er5-reorderable-repeat-direction/index.js","src/main.js","src/resources/index.js"],"names":["App","configureRouter","config","router","title","mapUnknownRoutes","map","route","redirect","name","nav","settings","section","moduleId","debug","testing","Box","dndService","attached","addSource","detached","removeSource","dndModel","type","item","x","y","left","top","Container","items","Index","sources","addTarget","removeTarget","dndCanDrop","model","dndDrop","location","dnd","previewElementRect","targetElementRect","newLoc","idx","indexOf","splice","push","isProcessing","updateClock","bind","noPreview","clockUpdator","setInterval","clearInterval","t","Date","clock","getHours","getMinutes","getSeconds","id","ea","subscribers","subscribe","resetIntention","forEach","s","dispose","intention","findIndex","dndHover","find","patched","reject","AddBox","dndPreview","jq","get","AddMoney","centerPreviewToMousePosition","hideCursor","dollars","canDrop","isHoveringShallowly","css","newItem","length","handler","CanvasContainer","shapes","selectedType","drawingTypes","value","label","resetDrawingShape","drawingShape","mouseStartAt","mouseEndAt","start","end","from","to","Math","min","width","abs","height","Item","updateIntention","targetId","beforeTarget","ListContainer","fulfillIntention","patchedItems","targetIndex","originalIndex","currentIndex","nextIndex","fromIndex","toIndex","ListContainer2","TableContainer","age","drawPreview","person","text","orderChanged","orderedItems","console","log","JSON","stringify","leftToRight","rightToLeft","configure","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","then","setRoot"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n  configureRouter(config, router) {\n    this.router = router;\n\n    config.title = 'bcx-aurelia-dnd examples';\n    config.mapUnknownRoutes('not-found.html');\n    config.map([\n      {\n        route: '',\n        redirect: 'overview'\n      },\n      {\n        route: 'overview', name: 'overview',\n        title: 'Overview',\n        nav: true,\n        settings: {section: 'Tutorial'},\n        moduleId: 'tutorial/overview.html'\n      },\n      {\n        route: 'dnd-source', name: 'dnd-source',\n        title: 'DnD Source',\n        nav: true,\n        settings: {section: 'Tutorial'},\n        moduleId: 'tutorial/dnd-source.html'\n      },\n      {\n        route: 'dnd-preview', name: 'dnd-preview',\n        title: 'DnD Preview',\n        nav: true,\n        settings: {section: 'Tutorial'},\n        moduleId: 'tutorial/dnd-preview.html'\n      },\n      {\n        route: 'dnd-target', name: 'dnd-target',\n        title: 'DnD Target',\n        nav: true,\n        settings: {section: 'Tutorial'},\n        moduleId: 'tutorial/dnd-target.html'\n      },\n      {\n        route: 'turn-off-preview-use-hover', name: 'turn-off-preview-use-hover',\n        title: 'Turn off preview, use dndHover',\n        nav: true,\n        settings: {section: 'Tutorial'},\n        moduleId: 'tutorial/turn-off-preview-use-hover.html'\n      },\n      {\n        route: 'customise-preview-and-source-handler', name: 'customise-preview-and-source-handler',\n        title: 'Customise Preview, Optional Source Handler',\n        nav: true,\n        settings: {section: 'Tutorial'},\n        moduleId: 'tutorial/customise-preview-and-source-handler.html'\n      },\n      {\n        route: 'reorderable-repeat', name: 'reorderable-repeat',\n        title: 'bcx-aurelia-reorderable-repeat',\n        nav: true,\n        settings: {section: 'Tutorial of reorderable-repeat'},\n        moduleId: 'tutorial/reorderable-repeat.html'\n      },\n      {\n        route: 'api', name: 'api',\n        title: 'API',\n        nav: true,\n        settings: {section: 'Reference'},\n        moduleId: 'tutorial/api.html'\n      },\n      {\n        route: 'faq', name: 'faq',\n        title: 'FAQ',\n        nav: true,\n        settings: {section: 'Reference'},\n        moduleId: 'tutorial/faq.html'\n      },\n      {\n        route: 'testing', name: 'testing',\n        title: 'Testing',\n        nav: true,\n        settings: {section: 'Reference'},\n        moduleId: 'tutorial/testing.html'\n      },\n      {\n        route: 'typescript-support', name: 'typescript-support',\n        title: 'TypeScript Support',\n        nav: true,\n        settings: {section: 'Reference'},\n        moduleId: 'tutorial/typescript-support.html'\n      },\n      {\n        route: 'e1-simple-move', name: 'e1-simple-move',\n        title: '1. move object',\n        nav: true,\n        settings: {section: 'Examples'},\n        moduleId: 'examples/e1-simple-move/index'\n      },\n      {\n        route: 'e2-simple-move-hover', name: 'e2-simple-move-hover',\n        title: '2. move object, preview off, use dndHover',\n        nav: true,\n        settings: {section: 'Examples'},\n        moduleId: 'examples/e2-simple-move-hover/index'\n      },\n      {\n        route: 'e3-customise-preview', name: 'e3-customise-preview',\n        title: '3. customise preview',\n        nav: true,\n        settings: {section: 'Examples'},\n        moduleId: 'examples/e3-customise-preview/index'\n      },\n      {\n        route: 'e4-handler-move', name: 'e4-handler-move',\n        title: '4. source handler and bcx-dnd-preview-hide',\n        nav: true,\n        settings: {section: 'Examples'},\n        moduleId: 'examples/e4-handler-move/index'\n      },\n      {\n        route: 'e5-draw', name: 'e5-draw',\n        title: '5. use DnD to draw',\n        nav: true,\n        settings: {section: 'Examples'},\n        moduleId: 'examples/e5-draw/index'\n      },\n      {\n        route: 'e6-reorder-list', name: 'e6-reorder-list',\n        title: '6. underneath algorithm of reorderable-repeat',\n        nav: true,\n        settings: {section: 'Examples'},\n        moduleId: 'examples/e6-reorder-list/index'\n      },\n      {\n        route: 'er1-reorderable-repeat', name: 'er1-reorderable-repeat',\n        title: '1. reorder list',\n        nav: true,\n        settings: {section: 'Examples of reorderable-repeat'},\n        moduleId: 'examples/er1-reorderable-repeat/index'\n      },\n      {\n        route: 'er2-reorderable-repeat-customise-style', name: 'er2-reorderable-repeat-customise-style',\n        title: '2. reorder list with customised style',\n        nav: true,\n        settings: {section: 'Examples of reorderable-repeat'},\n        moduleId: 'examples/er2-reorderable-repeat-customise-style/index'\n      },\n      {\n        route: 'er3-reorderable-repeat-with-handler', name: 'er3-reorderable-repeat-with-handler',\n        title: '3. reorder list with handler',\n        nav: true,\n        settings: {section: 'Examples of reorderable-repeat'},\n        moduleId: 'examples/er3-reorderable-repeat-with-handler/index'\n      },\n      {\n        route: 'er4-reorderable-repeat-customise-preview', name: 'er4-reorderable-repeat-customise-preview',\n        title: '4. reorder list with customised preview',\n        nav: true,\n        settings: {section: 'Examples of reorderable-repeat'},\n        moduleId: 'examples/er4-reorderable-repeat-customise-preview/index'\n      },\n      {\n        route: 'er5-reorderable-repeat-direction', name: 'er5-reorderable-repeat-direction',\n        title: '6. flow direction',\n        nav: true,\n        settings: {section: 'Examples of reorderable-repeat'},\n        moduleId: 'examples/er5-reorderable-repeat-direction/index'\n      }\n    ]);\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","export class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n}\n","export class Index {\n  sources = [\n    'src/examples/e1-simple-move-step-1/box.js',\n    'src/examples/e1-simple-move-step-1/box.html',\n    'src/examples/e1-simple-move-step-1/box.css',\n    'src/examples/e1-simple-move-step-1/container.js',\n    'src/examples/e1-simple-move-step-1/container.html',\n    'src/examples/e1-simple-move-step-1/container.css'\n  ];\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/e1-simple-move-step-2/container.js',\n    'src/examples/e1-simple-move-step-2/container.html',\n    'src/examples/e1-simple-move-step-2/container.css',\n    'src/examples/e1-simple-move-step-2/box.js',\n    'src/examples/e1-simple-move-step-2/box.html',\n    'src/examples/e1-simple-move-step-2/box.css'\n  ];\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/e1-simple-move/box.js',\n    'src/examples/e1-simple-move/box.html',\n    'src/examples/e1-simple-move/box.css',\n    'src/examples/e1-simple-move/container.js',\n    'src/examples/e1-simple-move/container.html',\n    'src/examples/e1-simple-move/container.css'\n  ];\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n    this.updateClock = this.updateClock.bind(this);\n    this.updateClock();\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.clockUpdator = setInterval(this.updateClock, 1000);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    if (this.clockUpdator) {\n      clearInterval(this.clockUpdator);\n      this.clockUpdator = null;\n    }\n  }\n\n  updateClock() {\n    const t = new Date();\n    this.clock = t.getHours() + ':' + t.getMinutes() + ':' + t.getSeconds();\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: 'a', name: 'A', x: 20, y: 20},\n    {id: 'b', name: 'B', x: 50, y: 200},\n    {id: 'c', name: 'C', x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop() {\n    const {items, intention} = this;\n    if (!intention) return;\n\n    const idx = _.findIndex(items, {id: intention.id});\n\n    if (idx >= 0) {\n      const item = items[idx];\n      items.splice(idx, 1);\n      // always show current moving item on top\n      items.push({...item, x: intention.x, y: intention.y});\n    }\n  }\n\n  dndHover(location) {\n    const {id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    const item = _.find(this.items, {id});\n    if (!item) return;\n\n    this.intention = {id, x: newLoc.x, y: newLoc.y};\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/e2-simple-move-hover/container.js',\n    'src/examples/e2-simple-move-hover/container.html',\n    'src/examples/e2-simple-move-hover/container.css',\n    'src/examples/e2-simple-move-hover/box.js',\n    'src/examples/e2-simple-move-hover/box.html',\n    'src/examples/e2-simple-move-hover/box.css'\n  ];\n}\n","export class Index {\n  sources = [\n    'test/unit/e2-simple-move-hover/container.spec.js',\n    'test/unit/e2-simple-move-hover/box.spec.js'\n  ];\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddBox {\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addItem'\n    };\n  }\n\n  dndPreview() {\n    const jq = $('<div class=\"e3-example-box\">new box</div>');\n    // style the dom if needed\n    // jq.css('width', '80px');\n    // jq.css('height', '40px');\n    return jq.get(0);\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport $ from 'jquery';\n\n@inject(DndService)\nexport class AddMoney {\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {centerPreviewToMousePosition: true, hideCursor: true});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'addDollar'\n    };\n  }\n\n  dndPreview() {\n    const jq = $('<div class=\"e3-dollar\"></div>');\n    return jq.get(0);\n  }\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      id: this.item.id\n    };\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'addDollar';\n  }\n\n  dndDrop() {\n    const {type} = this.dnd.model;\n\n    if (type === 'addDollar') {\n      this.item.dollars += 1;\n    }\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class Container {\n  items = [\n    {id: '0', dollars: 1, x: 20, y: 20},\n    {id: '1', dollars: 1, x: 50, y: 200},\n    {id: '2', dollars: 1, x: 200, y: 100}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetIntention())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem' ||\n           model.type === 'addItem';\n  }\n\n  dndDrop(location) {\n    const {type, id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    if (type === 'moveItem') {\n      const idx = _.findIndex(this.items, {id});\n      if (idx < 0) return;\n\n      const newItem = {...this.items[idx], ...newLoc};\n\n      // replace old item with new item\n      // add new item to the end\n      this.items.splice(idx, 1);\n      this.items.push(newItem);\n    } else if (type === 'addItem') {\n      this.items.push({\n        id: '' + this.items.length,\n        dollars: 1,\n        ...newLoc\n      });\n    }\n  }\n\n  dndHover(location) {\n    const {type, id} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n\n    if (type === 'moveItem') {\n      const item = _.find(this.items, {id});\n      if (!item) return;\n\n      this.intention = {id, x: newLoc.x, y: newLoc.y};\n    }\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n\n    let patched = _.reject(items, {id: intention.id});\n    const item = _.find(this.items, {id: intention.id});\n\n    if (item) {\n      // always show current moving item on top\n      patched.push({...item, x: intention.x, y: intention.y});\n    }\n\n    return patched;\n  }\n\n  @computedFrom('dnd', 'dnd.model', 'dnd.isProcessing', 'dnd.canDrop', 'dnd.isHoveringShallowly')\n  get dndCss() {\n    if (!this.dnd) return '';\n    const {model, isProcessing, canDrop, isHoveringShallowly} = this.dnd;\n    if (!isProcessing) return '';\n    // no style if moving item\n    if (model.type === 'moveItem') return '';\n    let css = '';\n    if (canDrop) {\n      css += 'can-drop';\n    } else {\n      css += 'can-not-drop';\n    }\n    if (isHoveringShallowly) css += ' shallow-hover';\n    return css;\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/e3-customise-preview/add-box.js',\n    'src/examples/e3-customise-preview/add-box.html',\n    'src/examples/e3-customise-preview/add-money.js',\n    'src/examples/e3-customise-preview/add-money.html',\n    'src/examples/e3-customise-preview/add-money.css',\n    'src/examples/e3-customise-preview/box.js',\n    'src/examples/e3-customise-preview/box.html',\n    'src/examples/e3-customise-preview/box.css',\n    'src/examples/e3-customise-preview/container.js',\n    'src/examples/e3-customise-preview/container.html',\n    'src/examples/e3-customise-preview/container.css',\n    'src/examples/e3-customise-preview/target-effect.css'\n  ];\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Box {\n  @bindable item;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this, {handler: this.handler});\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'moveItem',\n      item: this.item\n    };\n  }\n\n  @computedFrom('item', 'item.x', 'item.y')\n  get positionCss() {\n    const x = (this.item && this.item.x) || 0;\n    const y = (this.item && this.item.y) || 0;\n\n    return {\n      left: x + 'px',\n      top: y + 'px'\n    };\n  }\n\n  @computedFrom('dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    return this.dndService.isProcessing &&\n           this.dndService.model.item === this.item;\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Container {\n  items = [\n    {name: 'A', x: 20, y: 20},\n    {name: 'B', x: 50, y: 200},\n    {name: 'C', x: 200, y: 100}\n  ];\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeTarget(this);\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'moveItem';\n  }\n\n  dndDrop(location) {\n    const {item} = this.dnd.model;\n    const {previewElementRect, targetElementRect} = location;\n    const newLoc = {\n      x: previewElementRect.x - targetElementRect.x,\n      y: previewElementRect.y - targetElementRect.y\n    };\n    item.x = newLoc.x;\n    item.y = newLoc.y;\n\n    // move the item to end of array, in order to show it above others\n    const idx = this.items.indexOf(item);\n    if (idx >= 0) {\n      this.items.splice(idx, 1);\n      this.items.push(item);\n    }\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/e4-handler-move/box.js',\n    'src/examples/e4-handler-move/box.html',\n    'src/examples/e4-handler-move/box.css',\n    'src/examples/e4-handler-move/container.js',\n    'src/examples/e4-handler-move/container.html',\n    'src/examples/e4-handler-move/container.css'\n  ];\n}\n","import {inject} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(DndService, EventAggregator)\nexport class CanvasContainer {\n  shapes = [];\n  drawingShape;\n\n  selectedType = 'drawLine';\n  drawingTypes = [\n    {value: 'drawLine', label: 'Line'},\n    {value: 'drawRect', label: 'Rectangular'}\n  ];\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n\n  attached() {\n    this.dndService.addSource(this, {noPreview: true});\n    this.dndService.addTarget(this);\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetDrawingShape()),\n      this.ea.subscribe('dnd:didEnd', () => this.resetDrawingShape())\n    ];\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetDrawingShape() {\n    this.drawingShape = null;\n  }\n\n  dndModel() {\n    return {type: this.selectedType};\n  }\n\n  dndCanDrop(model) {\n    return model.type === 'drawLine' ||\n           model.type === 'drawRect';\n  }\n\n  dndHover(location) {\n    const {mouseStartAt, targetElementRect, mouseEndAt} = location;\n\n    const start = {\n      x: mouseStartAt.x - targetElementRect.x,\n      y: mouseStartAt.y - targetElementRect.y\n    };\n\n    const end = {\n      x: mouseEndAt.x - targetElementRect.x,\n      y: mouseEndAt.y - targetElementRect.y\n    };\n\n    if (this.dnd.model.type === 'drawLine') {\n      this.drawingShape = {type: 'line', from: start, to: end};\n    } else if (this.dnd.model.type === 'drawRect') {\n      const x = Math.min(start.x, end.x);\n      const y = Math.min(start.y, end.y);\n      const width = Math.abs(start.x - end.x);\n      const height = Math.abs(start.y - end.y);\n      this.drawingShape = {type: 'rect', x, y, width, height};\n    }\n  }\n\n  dndDrop() {\n    if (this.drawingShape) {\n      this.shapes.push(this.drawingShape);\n    }\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/e5-draw/canvas-container.js',\n    'src/examples/e5-draw/canvas-container.html'\n  ];\n}\n","export class Index {\n  sources = [\n    'src/examples/e6-reorder-list/list-container.js',\n    'src/examples/e6-reorder-list/list-container.html',\n    'src/examples/e6-reorder-list/list-container.css',\n    'src/examples/e6-reorder-list/item.js',\n    'src/examples/e6-reorder-list/item.html',\n    'src/examples/e6-reorder-list/item.css'\n  ];\n}\n","import {inject, bindable, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\n\n@inject(DndService)\nexport class Item {\n  @bindable item;\n  @bindable updateIntention;\n\n  constructor(dndService) {\n    this.dndService = dndService;\n  }\n\n  attached() {\n    this.dndService.addSource(this);\n    this.dndService.addTarget(this);\n  }\n\n  detached() {\n    this.dndService.removeSource(this);\n    this.dndService.removeTarget(this);\n  }\n\n  dndModel() {\n    return {\n      type: 'orderItemFlex',\n      id: this.item.id\n    };\n  }\n\n  // set canDrop true to receive dndHover, but do nothing in dndDrop\n  dndCanDrop(model) {\n    return model.type === 'orderItemFlex' && model.id !== this.item.id;\n  }\n\n  // no-op\n  dndDrop() {}\n\n  dndHover(location) {\n    const {mouseEndAt, targetElementRect} = location;\n    const y = mouseEndAt.y - targetElementRect.y;\n\n    // because of unknown size diff between items,\n    // check half size to avoid endless bouncing of swapping two items.\n    if (y < (targetElementRect.height / 2)) {\n      // hover over top half, user wants to move smth before this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: true});\n    } else {\n      // hover over bottom half, user wants to move smth after this item.\n      this.updateIntention({targetId: this.item.id, beforeTarget: false});\n    }\n  }\n\n  @computedFrom('item', 'dndService.isProcessing', 'dndService.model')\n  get draggingMe() {\n    const {item, dndService} = this;\n    return dndService.isProcessing &&\n           dndService.model.type === 'orderItemFlex' &&\n           dndService.model.id === item.id;\n  }\n}\n","import {inject, computedFrom} from 'aurelia-framework';\nimport {DndService} from 'bcx-aurelia-dnd';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'lodash';\n\n@inject(DndService, EventAggregator)\nexport class ListContainer {\n  items = [\n    {id: '0', value: 'lorem'},\n    {id: '1', value: 'Lorem ipsum dolor sit amet. consectetur adipisicing elit.'},\n    {id: '2', value: 'Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eos, tempore.'},\n    {id: '3', value: 'Lorem ipsum dolor sit amet, consectetur.'}\n  ];\n\n  intention;\n\n  constructor(dndService, ea) {\n    this.dndService = dndService;\n    this.ea = ea;\n  }\n\n  attached() {\n    this.subscribers = [\n      this.ea.subscribe('dnd:willStart', () => this.resetIntention()),\n      this.ea.subscribe('dnd:didEnd', () => this.fulfillIntention())\n    ];\n  }\n\n  detached() {\n    this.subscribers.forEach(s => s.dispose());\n  }\n\n  resetIntention() {\n    this.intention = null;\n  }\n\n  updateIntention(targetId, beforeTarget) {\n    const {isProcessing, model} = this.dndService;\n    if (!isProcessing) return;\n    if (model.type !== 'orderItemFlex') return;\n\n    const {patchedItems} = this;\n    const targetIndex = _.findIndex(patchedItems, {id: targetId});\n    if (targetIndex < 0) return;\n\n    let originalIndex;\n    let currentIndex;\n    let nextIndex;\n    if (this.intention) {\n      originalIndex = this.intention.fromIndex;\n      currentIndex = this.intention.toIndex;\n    } else {\n      originalIndex = _.findIndex(patchedItems, {id: model.id});\n      if (originalIndex < 0) return;\n      currentIndex = originalIndex;\n    }\n\n    if (currentIndex < targetIndex) {\n      // grabbed item is currently above target\n      if (beforeTarget) {\n        nextIndex = targetIndex - 1;\n      } else {\n        nextIndex = targetIndex;\n      }\n    } else /* if (currentIndex > targetIndex) */ { // no need to check, currentIndex never === targetIndex\n      // grabbed item is currently below target\n      if (beforeTarget) {\n        nextIndex = targetIndex;\n      } else {\n        nextIndex = targetIndex + 1;\n      }\n    }\n\n    this.intention = {\n      fromIndex: originalIndex,\n      toIndex: nextIndex\n    };\n  }\n\n  fulfillIntention() {\n    if (!this.intention) return;\n    const {fromIndex, toIndex} = this.intention;\n\n    this.resetIntention();\n    if (fromIndex === toIndex) return;\n\n    const item = this.items[fromIndex];\n    this.items.splice(fromIndex, 1);\n    this.items.splice(toIndex, 0, item);\n  }\n\n  @computedFrom('items', 'intention')\n  get patchedItems() {\n    const {items, intention} = this;\n    if (!intention) return items;\n    const {fromIndex, toIndex} = this.intention;\n\n    let patched = [...items];\n    const item = this.items[fromIndex];\n    patched.splice(fromIndex, 1);\n    patched.splice(toIndex, 0, item);\n    return patched;\n  }\n}\n","export class Index {\n  sources = [\n    'src/examples/er1-reorderable-repeat/list-container.js',\n    'src/examples/er1-reorderable-repeat/list-container.html',\n    'src/examples/er1-reorderable-repeat/list-container.css',\n    'src/examples/er1-reorderable-repeat/list-container2.js',\n    'src/examples/er1-reorderable-repeat/list-container2.html'\n  ]\n}\n","export class ListContainer {\n  items = ['first', 'second', 'third', 'fourth'];\n}\n","export class ListContainer2 {\n  items = [\n    {id: '0', value: 'first'},\n    {id: '1', value: 'second'},\n    {id: '2', value: 'third'},\n    {id: '3', value: 'fourth'}\n  ];\n}\n","export class Index {\n  sources = [\n    'src/examples/er2-reorderable-repeat-customise-style/list-container.css',\n    'src/examples/er2-reorderable-repeat-customise-style/list-container.js',\n    'src/examples/er2-reorderable-repeat-customise-style/list-container.html',\n    'src/examples/er2-reorderable-repeat-customise-style/list-container2.js',\n    'src/examples/er2-reorderable-repeat-customise-style/list-container2.html'\n  ]\n}\n","export class ListContainer {\n  items = ['first', 'second', 'third', 'fourth'];\n}\n","export class ListContainer2 {\n  items = [\n    {id: '0', value: 'first'},\n    {id: '1', value: 'second'},\n    {id: '2', value: 'third'},\n    {id: '3', value: 'fourth'}\n  ];\n}\n","export class Index {\n  sources = [\n    'src/examples/er3-reorderable-repeat-with-handler/table-container.html',\n    'src/examples/er3-reorderable-repeat-with-handler/table-container.js',\n    'src/examples/er3-reorderable-repeat-with-handler/table-container.css'\n  ];\n}\n","export class TableContainer {\n  items = [\n    {name: 'Bob', age: 23},\n    {name: 'Ali', age: 37},\n    {name: 'Tom', age: 12},\n    {name: 'Emma', age: 18}\n  ];\n}\n","export class Index {\n  sources = [\n    'src/examples/er4-reorderable-repeat-customise-preview/table-container.html',\n    'src/examples/er4-reorderable-repeat-customise-preview/table-container.js',\n    'src/examples/er4-reorderable-repeat-customise-preview/table-container.css'\n  ];\n}\n","import $ from 'jquery';\n\nexport class TableContainer {\n  items = [\n    {name: 'Bob', age: 23},\n    {name: 'Ali', age: 37},\n    {name: 'Tom', age: 12},\n    {name: 'Emma', age: 18}\n  ];\n\n  drawPreview(person) {\n    const jq = $('<div class=\"er4-drag-person\"></div>');\n    jq.text(person.name);\n    return jq.get(0);\n  }\n\n  orderChanged(orderedItems) {\n    /* eslint no-console: 0 */\n    console.log('Ordered items: ' + JSON.stringify(orderedItems));\n  }\n}\n","export class Container {\n  leftToRight = ['L0', 'L1', 'L2'];\n  rightToLeft = ['R0', 'R1', 'R2'];\n}\n\n","export class Index {\n  sources = [\n    'src/examples/er5-reorderable-repeat-direction/container.html',\n    'src/examples/er5-reorderable-repeat-direction/container.js',\n    'src/examples/er5-reorderable-repeat-direction/container.css'\n  ]\n}\n","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources')\n    .developmentLogging(environment.debug ? 'info' : 'warn')\n    .plugin('bcx-doc-base')\n    .plugin('bcx-aurelia-reorderable-repeat');\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n"],"sourceRoot":".."}